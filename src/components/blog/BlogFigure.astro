---
const {
  w = 5,
  h = "",
  space = "",
  src,
  alt,
  caption = "",
  scale = "",
  class: className = "",
} = Astro.props;

let c = `-g-unit -g-i_${w}`;
if (h) c += `_${h}`;
if (space) c += `-${space}`;
if (scale) c += ` -img-scale`;
if (className) c += ` ${className}`;
const imgStyle = scale ? `scale: ${scale};` : "";
---

<figure class={c}>
  <img src={src} alt={alt} style={imgStyle} loading="lazy" />
  {caption && <figcaption>{caption}</figcaption>}
</figure>
